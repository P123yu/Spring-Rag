#spring:
#  application:
#    name: spring_rag
#
#  datasource:
#    url: jdbc:postgresql://localhost:5433/vectordb
#    username: myuser
#    password: mypassword
#
#  ai:
#    openai:
#      api-key: ""
#      base-url: "https://generativelanguage.googleapis.com/v1beta/openai"
#
#      # Chat Configuration
#      chat:
#        options:
#          model: "gemini-2.5-flash"
#        memory:
#          jdbc:
#            # This tells Spring AI to create the 'message_store' table automatically
#            initialize-schema: true
#
#      # Embedding Configuration (Fixes the 404 error)
#      embedding:
#        options:
#          model: "text-embedding-004"
#
#    vectorstore:
#      pgvector:
#        initialize-schema: true
#        # Gemini text-embedding-004 uses 768 dimensions
#        dimension: 768
#        index-type: HNSW



spring:
  application:
    name: spring_rag

  # Force Spring to run your schema.sql on every startup
  sql:
    init:
      mode: always

  ai:
    openai:
      api-key: ""
      base-url: "https://generativelanguage.googleapis.com/v1beta/openai"
      chat:
        completion-path: "/chat/completions"
        options:
          model: "gemini-2.5-flash"
          temperature: 1
          stream: true
      embedding:
        options:
          model: "text-embedding-004"

    # Disable internal schema creation so it uses your schema.sql instead
    chat:
      memory:
        jdbc:
          initialize-schema: false

    vectorstore:
      pgvector:
        initialize-schema: true
        dimension: 768
        index-type: HNSW

  datasource:
    url: jdbc:postgresql://localhost:5433/vectordb
    username: myuser
    password: mypassword

#
#



#spring:
#  application:
#    name: spring_rag
#
#  # Standard Spring Boot SQL init (Uses Enum: always/never)
#  sql:
#    init:
#      mode: always
#
#  ai:
#    openai:
#      api-key: ""
#
#      chat:
#        options:
#          model: "gpt-5o-mini"
#          temperature: 0.7
#          stream: true
#
#      embedding:
#        options:
#          model: "text-embedding-3-small"
#
#    # Chat Memory (Uses Enum: always/never in newer versions)
#    chat:
#      memory:
#        repository:
#          jdbc:
#            initialize-schema: never
#
#    # Vector Store (Uses Boolean: true/false)
#    vectorstore:
#      pgvector:
#        # FIX: Change 'always' to 'true'
#        initialize-schema: true
#        # FIX: OpenAI embedding dimension is 1536 (Google was 768)
#        dimension: 1536
#        index-type: HNSW
#
#  datasource:
#    url: jdbc:postgresql://localhost:5433/vectordb
#    username: myuser
#    password: mypassword
#
#spring:
#  application:
#    name: spring_rag
#
#  sql:
#    init:
#      mode: always
#
#  ai:
#    openai:
#      api-key: ""
#      base-url: "https://api.deepseek.com/v1"
#
#      chat:
#        options:
#          model: "deepseek-chat"
#          temperature: 1.3
#          stream: true
#
#      embedding:
#        enabled: false   # IMPORTANT: DeepSeek has NO embeddings
#
#    vectorstore:
#      pgvector:
#        initialize-schema: true
#        dimension: 1536
#        index-type: hnsw
#
#  datasource:
#    url: jdbc:postgresql://localhost:5433/vectordb
#    username: myuser
#    password: mypassword
